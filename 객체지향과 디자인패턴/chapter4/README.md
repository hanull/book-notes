## 재사용 : 상속보단 조립

상속을 사용하면 상위 클래스에 구현된 기능을 그대로 재사용할 수 있기 때문에, 상속을 사용하면 재사용을 쉽게 할 수 있는 것은 분명하다. 하지만, 상속을 사용할 경우 몇 가지 문제점이 있다.

### 단점1. 상위 클래스 변경의 어려움

어떤 클래스를 상속받는다는 것은 그 클래스에 의존한다는 뜻이다. 따라서 의존하는 상위 클래스의 변경이 하위 클래스에 영향을 주기 때문에, 최악의 경우 상위 클래스의 변화가 모든 하위 클래스에 영향을 줄 수 있다.

이는 클래스 계층도에 있는 클래스들을 한 개의 거대한 단일 구조처럼 만들어 주는 결과를 초래한다. 이러한 이유 때문에 계층도가 커질수록 상위 클래스를 변경하는 것은 점점 어려워진다.

### 단점2. 클래스의 불필요한 증가

유사한 기능을 확장하는 과정에서 클래스의 개수가 불필요하게 증가할 수 있다.

같은 종류가 아닌 클래스의 구현을 재사용하기 위해 상속을 받게 되면, 잘못된 사용으로 인한 문제가 발생한다.

### 단점3. 상속의 오용

상속을 하면 부모 클래스의 private를 제외한 모든 메서드를 상속받는다. 따라서 다른 책임을 갖는, 불필요한 메서드를 제공 받을 수 있고 잘못된 사용으로 문제가 발생할 수 있다.



### 상속 대신 조립을 사용하는 방법

객체 조립은(composition)은 여러 객체를 묶어서 더 복잡한 기능을 제공하는 객체를 만들어내는 것이다. 조립을 사용하면 상속의 단점을 해결할 수 있다. 그리고 상속으로 구현할 수 있는 것은 모두 조립으로 구현할 수 있다.

- 객체 조립은 보통 필드에서 다른 객체를. 참조하는 방식으로 구현된다.
- 한 객체가 다른 객체를 조립해서 필드로 갖는다는 것은 다른 객체의 기능을 사용한다는 의미를 가진다.

### 그러면 상속은 언제 사용하나?

1. **상속을 사용할 때는** 재사용이라는 관점이 아닌 **기능의 확장이라는 관점에서 상속을 적용해야 한다.**
2. 명확한 **IS-A 관계**가 성립되어야 한다.
3. 상위 클래스의 기능을 **하위 클래스가 확장**해 나갈 때 사용할 수 있다.

하지만 **여전히 조립 대신에 상속으로 구현하는 것을 추천하지 않는다.** 왜냐하면 위의 조건을 만족한다고 하더라도 클래스의 개수가 불필요하게 증가하는 문제가 발생하거나, 상위 클래스의 변경이 어려워지는 등 상속의 단점이 발생할 가능성이 크다.